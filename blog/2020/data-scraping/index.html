<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Scraping Glassdoor Salaries | Nicole Ramirez</title> <meta name="author" content="Nicole Ramirez"/> <meta name="description" content="My digital garden "/> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"/> <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚛️</text></svg>"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://nxrmrz.github.io/blog/2020/data-scraping/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Nicole Ramirez</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Scraping Glassdoor Salaries</h1> <p class="post-meta">March 28, 2020</p> <p class="post-tags"> <a href="/blog/2020"> <i class="fas fa-calendar fa-sm"></i> 2020 </a> </p> </header> <article class="post-content"> <p>An ex-colleague, <a href="https://www.linkedin.com/in/dhilip-subramanian-36021918b/" target="_blank" rel="noopener noreferrer">Dhilip</a> and I wanted to do a series of end-to-end projects in Data Science and Analytics for fun and to pick up skills along the way that would serve our future careers in this space. When Dhilip approached me for project ideas, I already had one I’ve thought about for quite some time.</p> <p>It was a timely project for us Qrious interns, who were deliberating on our next career move following the summer internship. Towards the end of our internship, a few of us (excluding me but including Dhilip) were graduating and applying for full-time jobs in the data space. Our discussions naturally gravitated to what starting pay we could expect for careers in data science, data engineering, and analytics. I imagined if we had an amount for each job averaged from recent, accurate salary data collected over a large number of companies operating in different industries, we had evidence to make sure future salary negotiations were fair!</p> <h3 id="the-execution">The Execution</h3> <p>Glassdoor is a job reviews site with job benefits and salary information reported anonymously by employees of various companies. It was our main data source for this project. Collecting a vast amount of data from the site would require automation, using a technique called <em>scraping</em>. This is a technique used to extract content from specific HTML tags in a webpage, and in our case, exploits two technologies to do so: Selenium and BeautifulSoup.</p> <p>Selenium is a Java-based tool used in website testing to automate specific interactions with webpages (i.e. clicking on links, logging in, navigating the page, etc). Since it automates interacting with the DOM, it’s being used in Data Science to scrape data from websites. BeautifulSoup, on the other hand, is a Python library that parses HTML and makes it easy to extract specific elements from it.</p> <h3 id="the-code">The code</h3> <h4 id="1-first-we-import-the-necessary-libraries">1. First, we import the necessary libraries:</h4> <p><em>Python Selenium libraries (Scraping)</em></p> <ul> <li>webdriver - contains tools for working with an automated web browser</li> <li>webdriver.chrome - specifies Google Chrome as our automated browser</li> <li>time - the sleep function allows our automated tasks (i.e. clicking on links) to have a delay. Important for not being blocked as a bot by some websites</li> <li>BeautifulSoup - a python library for parsing HTML pages and grabbing content from specific HTML tags easily</li> <li>lxml - a parser for BeautifulSoup, allowing the HTML pages to be parsed as xml (and queried with xPath)</li> </ul> <p><em>Standard Python Libraries</em></p> <ul> <li>pandas - a library for working with data-frames</li> <li>csv - a tool for reading and writing CSV files</li> <li>itertools - an iterator library</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span> 
<span class="kn">from</span> <span class="nn">selenium.webdriver.chrome.options</span> <span class="kn">import</span> <span class="n">Options</span>
<span class="kn">from</span> <span class="nn">webdriver_manager.chrome</span> <span class="kn">import</span> <span class="n">ChromeDriverManager</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">lxml</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span> 
<span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">zip_longest</span>
</code></pre></div></div> <h4 id="2-then-we-set-up-an-automated-browser-for-scraping">2. Then, we set up an automated browser for scraping</h4> <p>In this step, we navigate to <a href="https://www.glassdoor.co.nz/Salaries/index.htm" target="_blank" rel="noopener noreferrer">Glassdoor’s Salaries page</a> and type in whatever Job Title we’d want salaries for, in whatever location. In this example, we’d want to grab Data Engineers’ salary information from the United States. We have to be logged into a Glassdoor account to do this.</p> <p>We then copy paste the URL of the resulting page into the driver.get(url) method below.</p> <p>Next, we find the <em>last page of results</em> Glassdoor has for this particular search. This is important as we’re setting up our browser to automatically cycle through all pages of the search, grabbing salary information from each. We do this by modifying the URL in our browser, adding the string <em>_IP1500</em> just before the <em>.htm</em>. This lets us jump to the very last page of salary information, as it is likely that there won’t be 1500 pages worth of search results. If there is, just adjust the IP number to be larger.</p> <p>Once we’ve jumped to the last page of results, note down what that page is (by looking at the last number in the carousel button as such (red in the image below):</p> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/2020-03-28/LastPageScrape-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/2020-03-28/LastPageScrape-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/2020-03-28/LastPageScrape-1400.webp"></source> <img src="/assets/img/2020-03-28/LastPageScrape.png" class="img-fluid" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>and copying that number onto the lastPageNo variable in the below code. In below’s example, page 191 is the last page, and the for loop cycles through each page until it reaches that, employing a delay of at least 1.5s before it goes on to the next page.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#creating empty arrays to hold job title, company name, job mean pay and pay range information
</span><span class="n">job_title</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">company_name</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">mean_pay</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">pay_range</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">lastPageNo</span> <span class="o">=</span> <span class="mi">191</span><span class="p">;</span>

<span class="c1">#going through 184 pages of salary information
</span><span class="k">for</span> <span class="n">pageno</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">lastPageNo</span><span class="p">):</span>

    <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="n">ChromeDriverManager</span><span class="p">().</span><span class="n">install</span><span class="p">())</span>
    
    <span class="c1">#getting webpage in glassdoor
</span>    <span class="k">if</span> <span class="n">pageno</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://www.glassdoor.co.nz/Salaries/us-data-engineer-salary-SRCH_IL.0,2_IN1_KO3,16.htm"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s">"https://www.glassdoor.co.nz/Salaries/us-data-engineer-salary-SRCH_IL.0,2_IN1_KO3,16.htm"</span> <span class="o">+</span> <span class="s">"_IP"</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pageno</span><span class="p">)</span> <span class="o">+</span> <span class="s">".htm"</span>
        <span class="p">)</span>
    <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
</code></pre></div></div> <h4 id="3-we-parse-the-html-of-each-search-result-pageand-scrape">3. We parse the HTML of each search result page…and SCRAPE!</h4> <p>…Using Beautifulsoup. The <em>page_source</em> attribute of the driver grabs the page with its corresponding HTML tags, and parses it with <strong>lxml</strong>, which as mentioned above, allows us to query the results using xpath if we wished.</p> <p>After parsing, we then grab specific HTML content. We do this by:</p> <ul> <li>Inspecting the html tags where our information lies, by using Google Chrome’s <em>inspect</em> option</li> <li>Collecting information that would distinguish our target HTML tag/s from others</li> </ul> <p>Tag Classes and IDs are useful for this. We see in the below screenshot, for example, that each salary block is enclosed by a <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> with class <strong>“row align-items-center m-0 salaryRow__SalaryRowStyle__row”</strong>. To grab each salary block from a page, we then use BeautifulSoup’s findAll() method, passing on the <code class="language-plaintext highlighter-rouge">&lt;div class=""&gt;</code> information mentioned.</p> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/2020-03-28/salaryBlocks-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/2020-03-28/salaryBlocks-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/2020-03-28/salaryBlocks-1400.webp"></source> <img src="/assets/img/2020-03-28/salaryBlocks.png" class="img-fluid" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>We do the same for every piece of information we want (i.e. job titles, company name, average salary, and salary range in this example). These bits of info were obtained the same way as above. We looped through each salary block above to grab the specific information, as the below code shows.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c1">#continuation from code above (still inside the for loop)
</span>    <span class="c1">#parsing the page through lxml option of beautifulsoup
</span>    <span class="n">html</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">page_source</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>

    <span class="c1">#getting each salary block
</span>    <span class="n">salaryBlocks</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">"div"</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span> <span class="p">:</span> <span class="s">'row align-items-center m-0 salaryRow__SalaryRowStyle__row'</span><span class="p">})</span>

    <span class="c1">#for each salary block, find the job title, company name, average pay, and pay range, and append them to the lists initialised above
</span>    <span class="k">for</span> <span class="n">block</span> <span class="ow">in</span> <span class="n">salaryBlocks</span><span class="p">:</span>
        <span class="n">entry</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">jobTitle</span> <span class="o">=</span> <span class="n">block</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"div"</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span> <span class="p">:</span> <span class="s">'salaryRow__JobInfoStyle__jobTitle strong'</span><span class="p">}).</span><span class="n">find</span><span class="p">(</span><span class="s">"a"</span><span class="p">).</span><span class="n">text</span>
        <span class="n">job_title</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">jobTitle</span><span class="p">)</span>

        <span class="n">companyName</span> <span class="o">=</span> <span class="n">block</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"div"</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span> <span class="p">:</span> <span class="s">'salaryRow__JobInfoStyle__employerName'</span><span class="p">}).</span><span class="n">text</span>
        <span class="n">company_name</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">companyName</span><span class="p">)</span>

        <span class="n">meanPay</span> <span class="o">=</span> <span class="n">block</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"div"</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span> <span class="p">:</span> <span class="s">'salaryRow__JobInfoStyle__meanBasePay common__formFactorHelpers__showHH'</span><span class="p">}).</span><span class="n">find</span><span class="p">(</span><span class="s">'span'</span><span class="p">).</span><span class="n">text</span>
        <span class="n">mean_pay</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">meanPay</span><span class="p">)</span>
        
        <span class="c1">#if a pay range exists, grab it, otherwise, indicate none exists
</span>        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">block</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"div"</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span> <span class="p">:</span> <span class="s">'col-2 d-none d-md-block px-0 py salaryRow__SalaryRowStyle__amt'</span><span class="p">}).</span><span class="n">find</span><span class="p">(</span><span class="s">"div"</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span> <span class="p">:</span> <span class="s">'strong'</span><span class="p">}):</span>
                <span class="n">payRange</span> <span class="o">=</span> <span class="n">block</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"div"</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span> <span class="p">:</span> <span class="s">'col-2 d-none d-md-block px-0 py salaryRow__SalaryRowStyle__amt'</span><span class="p">}).</span><span class="n">find</span><span class="p">(</span><span class="s">"div"</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span> <span class="p">:</span> <span class="s">'strong'</span><span class="p">}).</span><span class="n">text</span>
                <span class="n">pay_range</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">payRange</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">block</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"div"</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span> <span class="p">:</span> <span class="s">'col-2 d-none d-md-block px-0 py salaryRow__SalaryRowStyle__amt'</span><span class="p">}).</span><span class="n">find</span><span class="p">(</span><span class="s">"span"</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span> <span class="p">:</span> <span class="s">'strong'</span><span class="p">}):</span>
                <span class="n">pay_range</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"N/A"</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">pay_range</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"N/A"</span><span class="p">)</span>

        <span class="n">driver</span><span class="p">.</span><span class="n">quit</span><span class="p">()</span>
</code></pre></div></div> <h4 id="4-we-save-the-results-to-a-csv-file">4. We save the results to a .csv file</h4> <p>Once we’ve obtained all the information we need, we store them into a python data-frame, which allows us to store the data in a tabular format. The columns of the table correspond to job title, company name, mean pay, and the pay range, whilst the rows are individual companies.</p> <p>The below code shows how the results are stored in a data-frame and eventually converted to a .csv file for easy reading into your favourite data analysis program/language later on.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#process the lists into a final dataframe, and save to a CSV
</span><span class="n">final</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">zip_longest</span><span class="p">(</span><span class="n">job_title</span><span class="p">,</span> <span class="n">company_name</span><span class="p">,</span> <span class="n">mean_pay</span><span class="p">,</span> <span class="n">pay_range</span><span class="p">):</span>
    <span class="n">final</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="n">final</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">'jobTitle'</span><span class="p">,</span> <span class="s">'companyName'</span><span class="p">,</span> <span class="s">'meanPay'</span><span class="p">,</span> <span class="s">'payRange'</span><span class="p">])</span>

<span class="n">df</span><span class="p">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s">"Data Engineer Salaries United States.csv"</span><span class="p">)</span>
</code></pre></div></div> <p><em>The final output of this scraping is a 28,000 row file, containing salary information for Data Engineers, Analysts, Scientists, and Machine Learning Engineers in Australia, New Zealand, and the United States. The file can be downloaded here for free :)</em></p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2022 Nicole Ramirez. Last updated: November 20, 2022. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>